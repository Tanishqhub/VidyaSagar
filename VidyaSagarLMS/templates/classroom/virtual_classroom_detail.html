{% extends 'dashboard/base.html' %}

{% block content %}
<div class="container mt-4" style="max-width:900px;">
  <div class="card">
    <div class="card-body">
      <h3>{{ virtual_classroom.classroom.classroom_name }}</h3>
      <p>Meeting ID: {{ virtual_classroom.meeting_id }}</p>
      <p>Status: <strong>{{ virtual_classroom.status|title }}</strong></p>

      <div class="mt-3">
        {% if can_join %}
          <a href="{% url 'join_virtual_classroom' virtual_classroom.meeting_id %}" class="btn btn-success">Join Meeting</a>
        {% else %}
          <a href="{% url 'classroom_detail' virtual_classroom.classroom.classroom_id %}" class="btn btn-secondary">Back to Classroom</a>
        {% endif %}
      </div>

      <hr>
      <h5>Participants</h5>
      <ul>
        {% for p in participants %}
          <li>{{ p.user.get_full_name|default:p.user.username }} - {{ p.role }}</li>
        {% empty %}
          <li class="text-muted">No participants yet.</li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}
